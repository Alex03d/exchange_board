{% extends 'base.html' %}

{% block content %}
    <div class="card mb-4" style="border: 1px solid #e0e0e0;">
        <div class="card-body">

            {% if user != user_profile %}
                {% if not is_following %}
                    <a href="{% url 'users:profile_follow' user_profile.username %}" class="btn btn-minimalist">Follow</a>
                {% else %}
                    <a href="{% url 'users:profile_unfollow' user_profile.username %}" class="btn btn-minimalist">Unfollow</a>
                {% endif %}
            {% endif %}

            <h5 class="card-title" style="color: #333;">Your name:
                {% if user_profile.username %}
                    {{ user_profile.username }}
                {% else %}
                    данные отсутствуют
                {% endif %}
            </h5>

            <h5 class="card-title" style="color: #333;">Email:
                {% if user_profile.email %}
                    {{ user_profile.email }}
                {% else %}
                    данные отсутствуют
                {% endif %}
            </h5>

            <h5 class="card-title" style="color: #333;">Offers</h5>
            <ul class="text-color">
            {% for offer in user_profile.offers.all %}
                <li>
                    {{ offer.amount_offered }} {{ offer.currency_offered }} to {{ offer.currency_needed }} - {{ offer.status }}
                </li>
            {% empty %}
                <li>данные отсутствуют</li>
            {% endfor %}
            </ul>

            <h5 class="card-title" style="color: #333;">Transactions</h5>
            <ul class="text-color">
            {% for transaction in user_profile.accepted_transactions.all %}
                <li>
                    Transaction for {{ transaction.offer }} - {{ transaction.status }}
                </li>
            {% empty %}
                <li>данные отсутствуют</li>
            {% endfor %}

            </ul>
        </div>
    </div>
{% endblock %}
